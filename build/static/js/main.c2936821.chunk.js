(this["webpackJsonpkraznik-underverse"]=this["webpackJsonpkraznik-underverse"]||[]).push([[0],{129:function(e,t){},188:function(e,t,n){},190:function(e,t,n){},196:function(e,t){},198:function(e,t){},263:function(e,t){},265:function(e,t){},305:function(e,t){},307:function(e,t){},308:function(e,t){},313:function(e,t){},315:function(e,t){},321:function(e,t){},323:function(e,t){},342:function(e,t){},354:function(e,t){},357:function(e,t){},378:function(e,t,n){"use strict";n.r(t);var c,r=n(32),a=n.n(r),o=n(178),s=n.n(o),i=(n(188),n(23)),u=n(2),l=n(0),d=n.n(l),f=n(44),p=(n(190),n(43)),j=n(180),b=n(10),h=n(16),v=n(22),O=new p.b("https://florencenet.api.tez.ie"),x={name:"KraznikUnderverse",disableDefaultEvents:!0,iconUrl:"https://tezostaquito.io/img/favicon.png",preferredNetwork:"florencenet",eventHandlers:(c={},Object(u.a)(c,b.e.PAIR_INIT,{handler:b.L.PAIR_INIT}),Object(u.a)(c,b.e.PAIR_SUCCESS,{handler:b.L.PAIR_SUCCESS}),Object(u.a)(c,"PERMISSION_REQUEST_SUCCESS",{handler:function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("permission data:",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),c)},g=new j.a(x);O.setWalletProvider(g);var S="KT1C6bQhy4gSSt3HYd1E6xUoHV5ZMUbkRY38",m=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),o=Object(i.a)(a,2),s=o[0],u=o[1],l=Object(r.useState)(null),j=Object(i.a)(l,2),b=j[0],x=j[1],m=Object(r.useState)(""),k=Object(i.a)(m,2),w=k[0],y=k[1],C=Object(r.useState)(0),A=Object(i.a)(C,2),E=A[0],P=A[1],I=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.requestPermissions({network:{type:"florencenet"}});case 2:return e.next=4,g.getPKH();case 4:t=e.sent,c(t),O.setWalletProvider(g);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){function e(){return(e=Object(f.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.client.getActiveAccount();case 2:if(!(t=e.sent)){e.next=11;break}return c(t.address),e.next=7,O.tz.getBalance(t.address);case 7:n=e.sent,console.log("balance: ",n.toString()),n&&u(n.toString()),t&&console.log("Already connected: ",t.address);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(r.useEffect)((function(){function e(){return(e=Object(f.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.wallet.at(S);case 2:return t=e.sent,x(t),e.next=6,t.storage();case 6:n=e.sent,y(n),console.log("storage: ",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var M=function(){var e=Object(f.a)(d.a.mark((function e(){var t,n,c,r,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,console.log("Minting.."),t=[],n=w.all_tokens.length,c=E;c--;)r=p.a.fromLiteral({name:Object(h.c)("Kangroo".concat(n)),symbol:Object(h.c)("Kg".concat(n)),tokenUri:Object(h.c)("ipfs://QmV3a1TAdCncfs84Gi9msDsDJVQBDt6Wb5gJRVuFRfrgtG")}),t.push(r),n++;return a=w.MINT_PRICE.toString()*E/Math.pow(10,6),console.log(t),console.log(n),console.log(a),console.log(E),e.next=13,b.methods.mint(E,t).send({amount:a});case 13:return o=e.sent,e.next=16,o.confirmation();case 16:console.log("Minted Succesfully"),window.location.reload(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),alert("Please try again after 50 seconds"),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.clearActiveAccount();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"App",children:[n?Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{onClick:R,children:"Disconnect"}),Object(v.jsxs)("div",{children:["user address: ",n]}),Object(v.jsxs)("div",{children:["Balance: ",s]})]}):Object(v.jsx)("button",{onClick:I,children:"Connect Wallet"}),Object(v.jsxs)("div",{children:["contract address: ",S]}),b?Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{type:"number",min:"1",step:"1",max:w?w.MAX_PURCHASE.toString():2,placeholder:"Enter the purchase quantity",value:E,onChange:function(e){return P(e.target.value)}}),Object(v.jsx)("button",{onClick:M,children:"Mint"})]}):null,""!==w?Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:["Max supply : ",w.MAX_SUPPLY.toString()]}),Object(v.jsxs)("div",{children:["Max purchase allowed :"," ",w.MAX_PURCHASE.toString()]}),Object(v.jsxs)("div",{children:["mint price for 1 kangroo:"," ",w.MINT_PRICE.toString()/Math.pow(10,6)," XTZ"]}),Object(v.jsxs)("div",{children:["number of tokens minted yet:"," ",w.all_tokens.length]}),Object(v.jsx)("div",{})]}):null]})};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(m,{})}),document.getElementById("root"))}},[[378,1,2]]]);
//# sourceMappingURL=main.c2936821.chunk.js.map